<!DOCTYPE html><title>Metronome</title><meta name=viewport content=width=device-width><style>body{display:grid;grid-template-columns:50%50%;max-width:150px}#b,button{text-align:center;line-height:50px}</style><script>p=!1,b=100,i=.025,l=.1,n=0,M=Math,D=document,x=new AudioContext,H=((e,n)=>e.innerHTML=n),h=((e,n)=>H(D.getElementById(e),n)),s=(()=>{for(;n<x.currentTime+l;)o=x.createOscillator(),v=x.createGain(),o.connect(v),v.connect(x.destination),o.frequency.value=200,o.start(n),o.stop(n+.1),G=v.gain,G.setValueAtTime(.01,0),G.exponentialRampToValueAtTime(1,n,n+.05),G.linearRampToValueAtTime(0,n+.1),n+=60/b}),r=(()=>p&&(s(),setTimeout(r,i))),c=(()=>{p=!p,p?(h("c","stop"),n=x.currentTime,r()):h("c","play")}),a=(e=>h("b",b=M.min(M.max(20,b+e),240))),window.onload=(()=>[-1,1,-5,5,-25,25].forEach(n=>(e=D.createElement("button"),e.addEventListener("click",()=>a(n)),H(e,""+n),D.body.appendChild(e))));</script><p id=b>100</p><button id=c onclick=c();>play</button>
